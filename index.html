<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Loan Counter</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="container">
      <form>
        <h4>Loan Calculetor</h4>
        <input id="amount" type="text" placeholder="$ Amaount loan " />
        <input id="years" type="text" placeholder="Loan tern in years" />
        <input id="months" type="text" placeholder="Loan tern in month" />
        <input
          id="interest"
          type="text"
          placeholder="Interest rate per year %"
        />
        <button class="btn" type="submit">Calculate</button>
      </form>
      <div class="output">
        <div class="h4">Monthly Payments</div>
        <div class="h3" id="h3">$ 0</div>
        <div class="text underline">
          <div>Total Principle Paid</div>
          <div id="principle">$ 0</div>
        </div>
        <div class="text">
          <div>Total Interest Paid</div>
          <div id="total_interest">$ 0</div>
        </div>
      </div>
    </div>
    <script>
      const form = document.querySelector("form");
      const h3 = document.getElementById("h3");
      const principle = document.getElementById("principle");
      const interest_pay = document.getElementById("total_interest");

      let years, months, interest, amount;

      function compute() {
        amount = document.getElementById("amount").value;
        months = document.getElementById("months").value;
        interest = document.getElementById("interest").value;
        years = document.getElementById("years").value;
        monthly_pay =
          parseFloat(amount) / (parseInt(months) + parseInt(years * 12));
        total_interest =
          parseFloat(amount) *
          ((parseInt(months) + parseInt(years * 12)) / 12) *
          (parseFloat(interest) / 100);
        total_principal = parseFloat(amount) + total_interest;

        h3.innerHTML = `$ ${monthly_pay.toFixed(1)}`;
        principle.innerHTML = `$ ${total_principal.toFixed(1)}`;
        interest_pay.innerHTML = `$ ${total_interest.toFixed(1)}`;
      }

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        compute();
        //   document.getElementById("amount").value = "";
        //   document.getElementById("months").value = "";
        //   document.getElementById("interest").value = "";
        //   document.getElementById("years").value = "";
      });

      console.log("Hello");
    </script>
  </body>
</html>
